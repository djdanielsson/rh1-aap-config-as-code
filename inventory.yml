---
# AAP Configuration-as-Code Inventory
# Defines target AAP environments (where to apply CaC)
#
# ℹ️ NOTE: This inventory is for running CaC playbooks AGAINST AAP controllers.
# This is NOT the inventory that AAP will use for automation jobs.
# AAP's automation inventory should be 100% dynamic (from OCP-V, etc.)
# See: docs/ANSIBLE-BEST-PRACTICES.md "Inventory Management" section

all:
  children:
    # AAP Development Environment
    aap_dev:
      hosts:
        localhost:
          ansible_connection: local
      vars:
        # AAP connection details (set by pipeline or environment)
        controller_hostname: "{{ lookup('env', 'CONTROLLER_HOST') | default('https://aap-dev-aap-dev.apps.cluster.example.com') }}"
        controller_username: "{{ lookup('env', 'CONTROLLER_USERNAME') | default('admin') }}"
        controller_password: "{{ lookup('env', 'CONTROLLER_PASSWORD') | default(omit) }}"
        controller_oauthtoken: "{{ lookup('env', 'CONTROLLER_OAUTH_TOKEN') | default(omit) }}"
        controller_validate_certs: false
        
        # Environment metadata
        environment_name: dev
        environment_tier: development
    
    # AAP QA Environment
    aap_qa:
      hosts:
        localhost:
          ansible_connection: local
      vars:
        controller_hostname: "{{ lookup('env', 'CONTROLLER_HOST') | default('https://aap-qa-aap-qa.apps.cluster.example.com') }}"
        controller_username: "{{ lookup('env', 'CONTROLLER_USERNAME') | default('admin') }}"
        controller_password: "{{ lookup('env', 'CONTROLLER_PASSWORD') | default(omit) }}"
        controller_oauthtoken: "{{ lookup('env', 'CONTROLLER_OAUTH_TOKEN') | default(omit) }}"
        controller_validate_certs: false
        
        environment_name: qa
        environment_tier: staging
    
    # AAP Production Environment
    aap_prod:
      hosts:
        localhost:
          ansible_connection: local
      vars:
        controller_hostname: "{{ lookup('env', 'CONTROLLER_HOST') | default('https://aap-prod-aap-prod.apps.cluster.example.com') }}"
        controller_username: "{{ lookup('env', 'CONTROLLER_USERNAME') | default('admin') }}"
        controller_password: "{{ lookup('env', 'CONTROLLER_PASSWORD') | default(omit) }}"
        controller_oauthtoken: "{{ lookup('env', 'CONTROLLER_OAUTH_TOKEN') | default(omit) }}"
        controller_validate_certs: false
        
        environment_name: prod
        environment_tier: production

