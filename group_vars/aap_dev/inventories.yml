---
# Dev Environment Inventories
# Using _dev suffix for wildcard merging
#
# ⚠️ IMPORTANT: Always use dynamic inventory sources (OCP-V, VMware, etc.)
# Never define static hosts. See: docs/ANSIBLE-BEST-PRACTICES.md

controller_inventories_dev:
  - name: Dev Infrastructure
    description: Development VMs from OpenShift Virtualization
    organization: Platform
    variables:
      environment: dev
      ansible_connection: ssh
      ansible_user: ansible
      ansible_python_interpreter: /usr/bin/python3

  - name: Dev Localhost
    description: Localhost inventory for API-based automation
    organization: Default
    variables:
      ansible_connection: local

# Dynamic Inventory Sources (100% of inventory comes from here)
controller_inventory_sources_dev:
  - name: "Dev OCP-V VMs"
    inventory: "Dev Infrastructure"
    source: "openshift_virtualization"
    source_vars:
      plugin: "kubevirt.core.kubevirt"
      connections:
        - namespaces:
            - dev-vms
            - dev-apps
          network_name: default
      host_format: "name"
      label_selector: "environment=dev"
      append_base_domain: "dev.internal.example.com"
    credential: "OCP Dev Cluster"
    update_on_launch: true
    update_on_project_update: true
    update_cache_timeout: 300
    overwrite: true
    overwrite_vars: true
    verbosity: 1

# Inventory Groups (applied to dynamic inventory)
controller_groups_dev:
  - name: "webservers"
    inventory: "Dev Infrastructure"
    variables:
      webserver_port: 8080
      webserver_ssl_enabled: false

  - name: "databases"
    inventory: "Dev Infrastructure"
    variables:
      database_backup_enabled: false

